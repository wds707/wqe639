<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æƒ…æ„Ÿå¿ è¯šåº¦æ·±åº¦æµ‹è¯„ - ä¸“ä¸šå¿ƒç†åˆ†æ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* éªŒè¯éƒ¨åˆ†æ ·å¼ */
        .verification-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(147, 51, 143, 0.95) 0%, rgba(201, 75, 153, 0.95) 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            backdrop-filter: blur(10px);
        }
        
        .verification-box {
            background: white;
            padding: 50px 40px;
            border-radius: 25px;
            text-align: center;
            max-width: 550px;
            width: 90%;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.25);
            animation: fadeIn 0.8s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .verification-title {
            color: var(--primary);
            font-size: 2.2rem;
            margin-bottom: 15px;
            font-weight: 800;
        }
        
        .verification-subtitle {
            color: var(--gray);
            margin-bottom: 35px;
            line-height: 1.6;
            font-size: 1.1rem;
        }
        
        .verification-input-container {
            position: relative;
            margin-bottom: 25px;
        }
        
        .verification-input {
            width: 100%;
            padding: 18px 25px;
            font-size: 1.2rem;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s;
            background-color: #f9fafb;
            letter-spacing: 2px;
        }
        
        .verification-input:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(147, 51, 143, 0.2);
        }
        
        .verification-button {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            font-weight: 700;
        }
        
        .verification-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(147, 51, 143, 0.3);
        }
        
        .verification-error {
            color: var(--accent);
            margin-top: 15px;
            display: none;
            background-color: rgba(230, 57, 70, 0.1);
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 600;
        }
        
        .verification-hint {
            margin-top: 20px;
            font-size: 0.95rem;
            color: #888;
        }
        
        .purchase-info {
            margin-top: 35px;
            padding: 25px;
            background: linear-gradient(135deg, #f9fafb 0%, #eef2f7 100%);
            border-radius: 15px;
            text-align: left;
            border-left: 5px solid var(--primary);
        }
        
        .purchase-info h4 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .purchase-info ul {
            padding-left: 20px;
            margin-bottom: 20px;
        }
        
        .purchase-info li {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        .purchase-info p {
            color: var(--gray);
            font-size: 0.95rem;
            line-height: 1.6;
        }
        
        .secure-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(147, 51, 143, 0.1);
            color: var(--primary);
            padding: 10px 20px;
            border-radius: 30px;
            margin-top: 25px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        /* ä¸»é¡µé¢æ ·å¼ */
        :root {
            --primary: #93338f;
            --secondary: #c94b99;
            --accent: #e63946;
            --dark: #4a235a;
            --light: #f9f6fb;
            --gray: #666;
            --success: #27ae60;
            --warning: #f39c12;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background-color: var(--light);
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* å¤´éƒ¨åŒºåŸŸ */
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 50px 20px;
            background: linear-gradient(135deg, var(--primary) 0%, #c94b99 100%);
            color: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(147, 51, 143, 0.25);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 70%);
            z-index: 1;
        }
        
        .header-content {
            position: relative;
            z-index: 2;
        }
        
        .tagline {
            display: inline-block;
            background-color: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 30px;
            font-size: 1rem;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        
        h1 {
            font-size: 3.2rem;
            margin-bottom: 15px;
            font-weight: 800;
            text-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            font-size: 1.5rem;
            opacity: 0.95;
            margin-bottom: 30px;
            font-weight: 300;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .benefits {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .benefit-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
        }
        
        .benefit-item i {
            color: var(--secondary);
            font-size: 1.3rem;
        }
        
        .test-button {
            background-color: white;
            color: var(--primary);
            border: none;
            padding: 16px 40px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            margin-top: 20px;
            font-weight: 700;
            display: inline-flex;
            align-items: center;
            gap: 12px;
        }
        
        .test-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.2);
        }
        
        /* ç‰¹è´¨å¡ç‰‡ */
        .traits-section {
            margin: 60px 0;
        }
        
        .section-title {
            text-align: center;
            font-size: 2.4rem;
            margin-bottom: 50px;
            color: var(--dark);
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -18px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 5px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 3px;
        }
        
        .traits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }
        
        .trait-card {
            background-color: white;
            border-radius: 18px;
            padding: 25px 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.07);
            transition: all 0.4s ease;
            border-left: 6px solid var(--primary);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .trait-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        }
        
        .trait-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        }
        
        .trait-icon {
            font-size: 2.8rem;
            margin-bottom: 15px;
            color: var(--primary);
            text-align: center;
        }
        
        .trait-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 12px;
            color: var(--dark);
            text-align: center;
        }
        
        .trait-desc {
            color: var(--gray);
            font-size: 1rem;
            line-height: 1.6;
            flex-grow: 1;
        }
        
        .trait-example {
            margin-top: 12px;
            padding: 10px 12px;
            background-color: rgba(147, 51, 143, 0.05);
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--primary);
            border-left: 3px solid var(--primary);
        }
        
        /* æµ‹è¯•æµç¨‹é¢„è§ˆ */
        .test-preview {
            background: linear-gradient(135deg, var(--primary) 0%, #c94b99 100%);
            border-radius: 20px;
            padding: 50px 40px;
            color: white;
            margin: 60px 0;
            box-shadow: 0 15px 35px rgba(147, 51, 143, 0.25);
            position: relative;
            overflow: hidden;
        }
        
        .test-preview::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
        }
        
        .test-preview-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        
        .test-preview-title {
            font-size: 2.2rem;
            margin-bottom: 25px;
        }
        
        .test-preview-desc {
            font-size: 1.2rem;
            margin-bottom: 35px;
            opacity: 0.95;
            line-height: 1.7;
        }
        
        .test-steps {
            display: flex;
            justify-content: space-between;
            margin: 40px 0;
            gap: 20px;
        }
        
        .test-step {
            flex: 1;
            text-align: center;
            padding: 25px 15px;
            background-color: rgba(255,255,255,0.15);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background-color: white;
            color: var(--primary);
            border-radius: 50%;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 15px;
        }
        
        .step-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .step-desc {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        /* æµ‹è¯•éƒ¨åˆ† */
        .test-section {
            background-color: white;
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.08);
            display: none;
        }
        
        .progress-container {
            margin-bottom: 30px;
        }
        
        .progress-bar {
            height: 8px;
            background-color: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            width: 0%;
            transition: width 0.5s;
        }
        
        .progress-text {
            text-align: right;
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 5px;
        }
        
        .question-container {
            margin-bottom: 40px;
        }
        
        .question-title {
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: var(--dark);
        }
        
        .options-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .option {
            background-color: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .option:hover {
            background-color: #e9ecef;
        }
        
        .option.selected {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .nav-button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .nav-button:hover {
            background-color: #6a1f66;
        }
        
        .nav-button:disabled {
            background-color: #b8b8b8;
            cursor: not-allowed;
        }
        
        /* ç»“æœéƒ¨åˆ†æ ·å¼ */
        .result-section {
            background-color: white;
            border-radius: 20px;
            padding: 50px 40px;
            margin: 60px 0;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.08);
            display: none;
        }
        
        .result-title {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 40px;
            color: var(--dark);
        }
        
        .result-score-card {
            text-align: center;
            margin-bottom: 50px;
            padding: 30px;
            background: linear-gradient(135deg, #f9f6fb 0%, #f0e8f5 100%);
            border-radius: 15px;
        }
        
        .score-number {
            font-size: 4rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .score-label {
            font-size: 1.5rem;
            color: var(--dark);
            margin-bottom: 20px;
        }
        
        .score-description {
            font-size: 1.1rem;
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.7;
        }
        
        /* é›·è¾¾å›¾å®¹å™¨ */
        .radar-container {
            background-color: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            position: relative;
        }
        
        .radar-title {
            text-align: center;
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--dark);
            font-weight: 600;
        }
        
        .radar-chart-container {
            position: relative;
            height: 400px;
            width: 100%;
        }
        
        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .result-card {
            background-color: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }
        
        .result-card.primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
        }
        
        .result-name {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 15px;
        }
        
        .result-score {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 15px 0;
        }
        
        .result-desc {
            font-size: 1rem;
            line-height: 1.5;
        }
        
        /* ç»“æœè¯¦æƒ…éƒ¨åˆ†æ ·å¼ */
        .result-details {
            margin: 40px 0;
        }
        
        .result-detail-card {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            border-left: 5px solid var(--primary);
        }
        
        .detail-title {
            font-size: 1.6rem;
            margin-bottom: 20px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .detail-content {
            color: var(--gray);
            line-height: 1.7;
        }
        
        .improvement-list {
            margin-top: 20px;
        }
        
        .improvement-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .improvement-item:last-child {
            border-bottom: none;
        }
        
        .improvement-icon {
            font-size: 1.5rem;
            color: var(--primary);
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .improvement-text {
            flex-grow: 1;
        }
        
        .improvement-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--dark);
        }
        
        .improvement-desc {
            color: var(--gray);
        }
        
        .action-plan {
            background-color: rgba(147, 51, 143, 0.05);
            border-radius: 10px;
            padding: 25px;
            margin-top: 25px;
        }
        
        .action-title {
            font-size: 1.3rem;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .action-steps {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .action-step {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .step-heading {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .step-number {
            width: 30px;
            height: 30px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .step-title {
            font-weight: 600;
            color: var(--dark);
        }
        
        .restart-button {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(147, 51, 143, 0.3);
            display: block;
            margin: 0 auto;
        }
        
        .restart-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(147, 51, 143, 0.4);
        }
        
        /* CTAåŒºåŸŸ */
        .cta-section {
            text-align: center;
            margin: 70px 0;
            padding: 50px 30px;
            background: linear-gradient(135deg, #f9f6fb 0%, #f0e8f5 100%);
            border-radius: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .cta-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        }
        
        .cta-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--dark);
        }
        
        .cta-desc {
            font-size: 1.2rem;
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto 40px;
        }
        
        .large-test-button {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            padding: 20px 55px;
            font-size: 1.4rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(147, 51, 143, 0.3);
            font-weight: 700;
            display: inline-flex;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .large-test-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(147, 51, 143, 0.4);
        }
        
        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
            color: var(--gray);
            border-top: 1px solid #eee;
        }
        
        /* é£é™©è­¦ç¤º */
        .risk-warning {
            background: linear-gradient(135deg, #fff9e6 0%, #fff2cc 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border-left: 5px solid var(--warning);
        }
        
        .risk-title {
            color: var(--warning);
            font-size: 1.4rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .risk-content {
            color: #8a6d3b;
            line-height: 1.6;
        }
        
        .data-basis {
            background-color: rgba(147, 51, 143, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .data-basis-title {
            color: var(--primary);
            font-size: 1.2rem;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        @media (max-width: 768px) {
            .traits-grid, .result-grid, .action-steps {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .test-steps {
                flex-direction: column;
            }
            
            .benefits {
                flex-direction: column;
                align-items: center;
            }
            
            .options-container {
                grid-template-columns: 1fr;
            }
            
            .test-section, .result-section {
                padding: 30px 20px;
            }
            
            .large-test-button {
                padding: 16px 35px;
                font-size: 1.2rem;
            }
            
            .radar-chart-container {
                height: 300px;
            }
            
            .verification-box {
                padding: 40px 25px;
            }
            
            .verification-title {
                font-size: 1.8rem;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 2rem;
            }
            
            .test-preview, .result-section {
                padding: 30px 20px;
            }
            
            .radar-chart-container {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <!-- éªŒè¯é®ç½©å±‚ -->
    <div class="verification-overlay" id="verificationOverlay">
        <div class="verification-box">
            <h2 class="verification-title">ğŸ” è®¿é—®éªŒè¯</h2>
            <p class="verification-subtitle">
                æœ¬æµ‹è¯„ä¸ºä»˜è´¹å†…å®¹ï¼Œè¯·è¾“å…¥è´­ä¹°åè·å¾—çš„éªŒè¯ç ã€‚<br>
                å¦‚æœæ‚¨å°šæœªè´­ä¹°ï¼Œè¯·å…ˆè”ç³»è·å–éªŒè¯ç ã€‚
            </p>
            
            <div class="verification-input-container">
                <input type="text" class="verification-input" id="verificationCode" 
                       placeholder="è¯·è¾“å…¥éªŒè¯ç ï¼ˆå¦‚ï¼šLOVE123ï¼‰" autocomplete="off" maxlength="10">
            </div>
            
            <button class="verification-button" id="verifyBtn">
                <i class="fas fa-unlock"></i> éªŒè¯å¹¶å¼€å§‹æµ‹è¯„
            </button>
            
            <div class="verification-error" id="verificationError">
                <i class="fas fa-exclamation-circle"></i> éªŒè¯ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥
            </div>
            
            <div class="verification-hint">
                æç¤ºï¼šéªŒè¯ç åŒºåˆ†å¤§å°å†™ï¼Œè¯·ç¡®ä¿è¾“å…¥æ­£ç¡®
            </div>
            
            <div class="purchase-info">
                <h4>å¦‚ä½•è·å–éªŒè¯ç ï¼Ÿ</h4>
                <ul>
                    <li>1. åœ¨å°çº¢ä¹¦è´­ä¹°"æƒ…æ„Ÿå¿ è¯šåº¦æ·±åº¦æµ‹è¯„"æœåŠ¡</li>
                    <li>2. è”ç³»å–å®¶è·å–ä¸“å±éªŒè¯ç </li>
                    <li>3. è¾“å…¥éªŒè¯ç è§£é”å…¨éƒ¨æµ‹è¯„åŠŸèƒ½</li>
                </ul>
                <p><strong>æ³¨æ„ï¼š</strong>æ¯ä¸ªéªŒè¯ç ä»…é™å•æ¬¡ä½¿ç”¨ï¼Œè¯·å‹¿åˆ†äº«ç»™ä»–äººã€‚</p>
            </div>
            
            <div class="secure-badge">
                <i class="fas fa-shield-alt"></i>
                <span>å®‰å…¨éªŒè¯ â€¢ éšç§ä¿æŠ¤</span>
            </div>
        </div>
    </div>
    
    <!-- ä¸»é¡µé¢å†…å®¹ -->
    <div class="container" id="mainContent" style="display: none;">
        <header>
            <div class="header-content">
                <div class="tagline">åŸºäºå¿ƒç†å­¦ â€¢ å¤§æ•°æ®åˆ†æ â€¢ ä¸ªæ€§åŒ–å»ºè®®</div>
                <h1>æƒ…æ„Ÿå¿ è¯šåº¦æ·±åº¦æµ‹è¯„</h1>
                <p class="subtitle">ç§‘å­¦è¯„ä¼°æƒ…æ„Ÿå€¾å‘ï¼Œè¯†åˆ«å…³ç³»é£é™©ï¼Œæä¾›ä¸“ä¸šæƒ…æ„ŸæŒ‡å¯¼</p>
                
                <div class="benefits">
                    <div class="benefit-item">
                        <i class="fas fa-brain"></i>
                        <span>åŸºäºå¿ƒç†å­¦å¤§æ•°æ®</span>
                    </div>
                    <div class="benefit-item">
                        <i class="fas fa-chart-pie"></i>
                        <span>8ä¸ªæƒ…æ„Ÿç»´åº¦åˆ†æ</span>
                    </div>
                    <div class="benefit-item">
                        <i class="fas fa-heart"></i>
                        <span>ä¸ªæ€§åŒ–å…³ç³»å»ºè®®</span>
                    </div>
                </div>
                
                <button class="test-button" id="startTestBtn">
                    <i class="fas fa-heartbeat"></i>
                    å¼€å§‹æµ‹è¯„
                </button>
            </div>
        </header>
        
        <!-- é£é™©è­¦ç¤º -->
        <div class="risk-warning">
            <h3 class="risk-title"><i class="fas fa-exclamation-triangle"></i> é‡è¦å£°æ˜</h3>
            <div class="risk-content">
                <p>æœ¬æµ‹è¯„åŸºäºå¿ƒç†å­¦ç ”ç©¶å’Œå¤§æ•°æ®åˆ†æï¼Œæ—¨åœ¨å¸®åŠ©æ‚¨æ›´å¥½åœ°äº†è§£æƒ…æ„Ÿå…³ç³»ä¸­çš„æ½œåœ¨é£é™©å› ç´ ã€‚æµ‹è¯„ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸èƒ½ä½œä¸ºåˆ¤æ–­ä»–äººå“è´¨çš„å”¯ä¸€ä¾æ®ã€‚æ¯ä¸ªäººçš„æƒ…æ„Ÿè¡¨è¾¾å’Œå¿ è¯šè¡¨ç°éƒ½æœ‰å…¶å¤æ‚æ€§ï¼Œå»ºè®®ç»“åˆå®é™…æƒ…å†µç»¼åˆåˆ¤æ–­ã€‚</p>
                <div class="data-basis">
                    <div class="data-basis-title">æµ‹è¯„ä¾æ®</div>
                    <p>æœ¬æµ‹è¯„åŸºäºå¯¹5000+æƒ…æ„Ÿæ¡ˆä¾‹çš„å¤§æ•°æ®åˆ†æï¼Œç»“åˆå¿ƒç†å­¦ç†è®ºï¼ˆä¾æ‹ç†è®ºã€ç¤¾ä¼šäº¤æ¢ç†è®ºç­‰ï¼‰å’Œæƒ…æ„Ÿè¡Œä¸ºå­¦ç ”ç©¶ï¼Œä»å¤šä¸ªç»´åº¦ç§‘å­¦è¯„ä¼°æƒ…æ„Ÿå€¾å‘ã€‚</p>
                </div>
            </div>
        </div>
        
        <section class="traits-section">
            <h2 class="section-title">è¯„ä¼°å…«å¤§æƒ…æ„Ÿå¿ è¯šç»´åº¦</h2>
            <div class="traits-grid">
                <div class="trait-card">
                    <div class="trait-icon"><i class="fas fa-heart"></i></div>
                    <h3 class="trait-name">æƒ…æ„Ÿä¾æ‹æ¨¡å¼</h3>
                    <p class="trait-desc">è¯„ä¼°å…¶æƒ…æ„Ÿä¾é™„ç±»å‹ï¼ˆå®‰å…¨å‹ã€ç„¦è™‘å‹ã€å›é¿å‹ï¼‰ï¼Œè¿™æ˜¯å½±å“å¿ è¯šåº¦çš„æ ¸å¿ƒå¿ƒç†å› ç´ ã€‚</p>
                    <div class="trait-example">
                        <strong>å…³é”®æŒ‡æ ‡ï¼š</strong>äº²å¯†éœ€æ±‚ã€åˆ†ç¦»ç„¦è™‘ã€ä¿¡ä»»å»ºç«‹
                    </div>
                </div>
                
                <div class="trait-card">
                    <div class="trait-icon"><i class="fas fa-handshake"></i></div>
                    <h3 class="trait-name">æ‰¿è¯ºè®¤çŸ¥ä¸æ€åº¦</h3>
                    <p class="trait-desc">è¯„ä¼°å…¶å¯¹é•¿æœŸå…³ç³»çš„æ€åº¦å’Œå¯¹æ‰¿è¯ºçš„è®¤çŸ¥ï¼Œè¿™æ˜¯å¿ è¯šåº¦çš„æ€æƒ³åŸºç¡€ã€‚</p>
                    <div class="trait-example">
                        <strong>å…³é”®æŒ‡æ ‡ï¼š</strong>æ‰¿è¯ºæ„æ„¿ã€å…³ç³»ä»·å€¼è§‚ã€æœªæ¥è§„åˆ’
                    </div>
                </div>
                
                <div class="trait-card">
                    <div class="trait-icon"><i class="fas fa-user-shield"></i></div>
                    <h3 class="trait-name">è¾¹ç•Œæ„Ÿä¸è‡ªå¾‹æ€§</h3>
                    <p class="trait-desc">è¯„ä¼°å…¶åœ¨å¼‚æ€§äº¤å¾€ä¸­çš„è¾¹ç•Œæ„è¯†å’Œè‡ªæˆ‘çº¦æŸèƒ½åŠ›ï¼Œè¿™æ˜¯å¿ è¯šåº¦çš„è¡Œä¸ºè¡¨ç°ã€‚</p>
                    <div class="trait-example">
                        <strong>å…³é”®æŒ‡æ ‡ï¼š</strong>ç¤¾äº¤è¾¹ç•Œã€è‡ªæˆ‘æ§åˆ¶ã€è¯±æƒ‘æŠµæŠ—
                    </div>
                </div>
                
                <div class="trait-card">
                    <div class="trait-icon"><i class="fas fa-comments"></i></div>
                    <h3 class="trait-name">æ²Ÿé€šé€æ˜åº¦</h3>
                    <p class="trait-desc">è¯„ä¼°å…¶åœ¨å…³ç³»ä¸­çš„å¼€æ”¾ç¨‹åº¦å’Œæ²Ÿé€šä¹ æƒ¯ï¼Œéšç’è¡Œä¸ºå¾€å¾€æ˜¯ä¸å¿ çš„å‰å…†ã€‚</p>
                    <div class="trait-example">
                        <strong>å…³é”®æŒ‡æ ‡ï¼š</strong>ä¿¡æ¯åˆ†äº«ã€éšç§æ€åº¦ã€å¦è¯šåº¦
                    </div>
                </div>
                
                <div class="trait-card">
                    <div class="trait-icon"><i class="fas fa-history"></i></div>
                    <h3 class="trait-name">æƒ…æ„Ÿå†å²æ¨¡å¼</h3>
                    <p class="trait-desc">è¯„ä¼°å…¶è¿‡å¾€å…³ç³»çš„æ¨¡å¼å’Œç¨³å®šæ€§ï¼Œå†å²è¡Œä¸ºæ˜¯é¢„æµ‹æœªæ¥çš„é‡è¦å‚è€ƒã€‚</p>
                    <div class="trait-example">
                        <strong>å…³é”®æŒ‡æ ‡ï¼š</strong>å…³ç³»æŒç»­æ—¶é—´ã€åˆ†æ‰‹åŸå› ã€å¿ è¯šè®°å½•
                    </div>
                </div>
                
                <div class="trait-card">
                    <div class="trait-icon"><i class="fas fa-users"></i></div>
                    <h3 class="trait-name">ç¤¾äº¤è¡Œä¸ºä¹ æƒ¯</h3>
                    <p class="trait-desc">è¯„ä¼°å…¶åœ¨ç¤¾äº¤åœºåˆçš„è¡Œä¸ºæ¨¡å¼å’Œå¼‚æ€§äº’åŠ¨æ–¹å¼ï¼Œç¤¾äº¤ä¹ æƒ¯åæ˜ æ½œåœ¨é£é™©ã€‚</p>
                    <div class="trait-example">
                        <strong>å…³é”®æŒ‡æ ‡ï¼š</strong>ç¤¾äº¤åŠ¨æœºã€å¼‚æ€§äº’åŠ¨ã€éšç§ä¿æŠ¤
                    </div>
                </div>
                
                <div class="trait-card">
                    <div class="trait-icon"><i class="fas fa-balance-scale"></i></div>
                    <h3 class="trait-name">ä»·å€¼è§‚ä¸€è‡´æ€§</h3>
                    <p class="trait-desc">è¯„ä¼°å…¶åœ¨å¿ è¯šã€è´£ä»»ã€é“å¾·ç­‰æ–¹é¢çš„ä»·å€¼è§‚ï¼Œä»·å€¼è§‚å†³å®šè¡Œä¸ºé€‰æ‹©ã€‚</p>
                    <div class="trait-example">
                        <strong>å…³é”®æŒ‡æ ‡ï¼š</strong>é“å¾·è§‚å¿µã€è´£ä»»æ„è¯†ã€å¿ è¯šä»·å€¼è§‚
                    </div>
                </div>
                
                <div class="trait-card">
                    <div class="trait-icon"><i class="fas fa-mobile-alt"></i></div>
                    <h3 class="trait-name">æ•°å­—è¡Œä¸ºç‰¹å¾</h3>
                    <p class="trait-desc">è¯„ä¼°å…¶åœ¨æ•°å­—æ—¶ä»£çš„è¡Œä¸ºç‰¹å¾ï¼ˆç¤¾äº¤åª’ä½“ã€é€šè®¯ä¹ æƒ¯ç­‰ï¼‰ï¼Œç°ä»£ä¸å¿ å¸¸åœ¨æ•°å­—ç©ºé—´å¼€å§‹ã€‚</p>
                    <div class="trait-example">
                        <strong>å…³é”®æŒ‡æ ‡ï¼š</strong>ç¤¾äº¤åª’ä½“ä½¿ç”¨ã€é€šè®¯éšç§ã€æ•°å­—è¾¹ç•Œ
                    </div>
                </div>
            </div>
        </section>
        
        <section class="test-preview">
            <div class="test-preview-content">
                <h2 class="test-preview-title">ä¸“ä¸šæƒ…æ„Ÿå¿ è¯šåº¦æµ‹è¯„</h2>
                <p class="test-preview-desc">åŸºäºå¿ƒç†å­¦ç ”ç©¶ã€å¤§æ•°æ®åˆ†æå’Œæƒ…æ„Ÿè¡Œä¸ºå­¦ï¼Œç§‘å­¦è¯„ä¼°æƒ…æ„Ÿå¿ è¯šåº¦ï¼Œè¯†åˆ«æ½œåœ¨é£é™©ï¼Œæä¾›ä¸“ä¸šæŒ‡å¯¼</p>
                
                <div class="test-steps">
                    <div class="test-step">
                        <div class="step-number">1</div>
                        <h3 class="step-title">å›ç­”40é“ç§‘å­¦é—®é¢˜</h3>
                        <p class="step-desc">åŸºäºå¿ƒç†å­¦å’Œè¡Œä¸ºå­¦çš„ä¸“ä¸šé—®é¢˜ï¼Œå®¢è§‚è¯„ä¼°æƒ…æ„Ÿå€¾å‘</p>
                    </div>
                    <div class="test-step">
                        <div class="step-number">2</div>
                        <h3 class="step-title">è·å–æ·±åº¦åˆ†ææŠ¥å‘Š</h3>
                        <p class="step-desc">è¯¦ç»†åˆ†æ8ä¸ªå¿ è¯šåº¦ç»´åº¦ï¼Œç§‘å­¦è¯„ä¼°æƒ…æ„Ÿé£é™©</p>
                    </div>
                    <div class="test-step">
                        <div class="step-number">3</div>
                        <h3 class="step-title">è·å¾—ä¸ªæ€§åŒ–å…³ç³»å»ºè®®</h3>
                        <p class="step-desc">åŸºäºæµ‹è¯„ç»“æœï¼Œæä¾›å…·ä½“å¯è¡Œçš„å…³ç³»ç»´æŠ¤å»ºè®®</p>
                    </div>
                </div>
                
                <button class="test-button" id="previewStartBtn">
                    <i class="fas fa-play-circle"></i>
                    å¼€å§‹æµ‹è¯„
                </button>
            </div>
        </section>
        
        <!-- æµ‹è¯•éƒ¨åˆ† -->
        <section class="test-section" id="testSection">
            <div class="progress-container">
                <div class="progress-text">è¿›åº¦: <span id="progressPercent">0</span>%</div>
                <div class="progress-bar">
                    <div class="progress" id="progressBar"></div>
                </div>
            </div>
            
            <div class="question-container">
                <h3 class="question-title" id="questionTitle">é—®é¢˜å°†åœ¨è¿™é‡Œæ˜¾ç¤º</h3>
                <div class="options-container" id="optionsContainer">
                    <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button class="nav-button" id="prevBtn" disabled>ä¸Šä¸€é¢˜</button>
                <button class="nav-button" id="nextBtn">ä¸‹ä¸€é¢˜</button>
            </div>
        </section>
        
        <!-- ç»“æœéƒ¨åˆ† -->
        <section class="result-section" id="resultSection">
            <h2 class="result-title">æƒ…æ„Ÿå¿ è¯šåº¦æµ‹è¯„ç»“æœ</h2>
            
            <div class="result-score-card" id="scoreCard">
                <!-- å¾—åˆ†å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <!-- é›·è¾¾å›¾éƒ¨åˆ† -->
            <div class="radar-container">
                <h3 class="radar-title">å¿ è¯šåº¦ç»´åº¦åˆ†æé›·è¾¾å›¾</h3>
                <div class="radar-chart-container">
                    <canvas id="loyaltyRadarChart"></canvas>
                </div>
            </div>
            
            <div class="result-grid" id="resultGrid">
                <!-- ç»“æœå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <!-- ç»“æœè¯¦æƒ…éƒ¨åˆ† -->
            <div class="result-details" id="resultDetails">
                <!-- ç»“æœè¯¦æƒ…å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <button class="restart-button" id="restartBtn">é‡æ–°æµ‹è¯„</button>
        </section>
        
        <section class="cta-section">
            <h2 class="cta-title">æ™ºæ…§ç»è¥æƒ…æ„Ÿï¼Œç§‘å­¦å®ˆæŠ¤å…³ç³»</h2>
            <p class="cta-desc">æƒ…æ„Ÿå¿ è¯šä¸æ˜¯ç®€å•çš„"æ˜¯"æˆ–"å¦"ï¼Œè€Œæ˜¯å¤æ‚çš„å¿ƒç†ç‰¹è´¨å’Œè¡Œä¸ºå€¾å‘çš„ç»¼åˆä½“ç°ã€‚é€šè¿‡ç§‘å­¦çš„æµ‹è¯„ï¼Œäº†è§£æƒ…æ„Ÿå…³ç³»ä¸­çš„æ½œåœ¨é£é™©ï¼ŒæŒæ¡ç»´æŠ¤å…³ç³»çš„å…³é”®æŠ€å·§ï¼Œå»ºç«‹å¥åº·ç¨³å®šçš„æƒ…æ„Ÿè¿æ¥ã€‚</p>
            
            <button class="large-test-button" id="finalTestBtn">
                <i class="fas fa-heart"></i>
                å¼€å§‹æƒ…æ„Ÿå¿ è¯šåº¦æµ‹è¯„
            </button>
            
            <p style="margin-top: 20px; color: var(--gray); font-size: 0.95rem;">åŸºäºå¿ƒç†å­¦ç ”ç©¶ â€¢ å¤§æ•°æ®åˆ†æ â€¢ ä¸“ä¸šæƒ…æ„ŸæŒ‡å¯¼</p>
        </section>
        
        <footer>
            <p>æƒ…æ„Ÿå¿ è¯šåº¦æ·±åº¦æµ‹è¯„ &copy; 2025 ç‰ˆæƒæ‰€æœ‰ | åŸºäºå¿ƒç†å­¦ç ”ç©¶ä¸å¤§æ•°æ®åˆ†æçš„ä¸“ä¸šæµ‹è¯„</p>
        </footer>
    </div>
    
    <script>
        // ============== éªŒè¯ç³»ç»Ÿ ==============
        // é…ç½®éªŒè¯ç  - æ‚¨å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹è¿™äº›éªŒè¯ç 
        const validCodes = [
            "LOVE123",      // ä¸»è¦éªŒè¯ç 
            "LOYAL2025",    // å¤‡ç”¨éªŒè¯ç 1
            "HEART888",     // å¤‡ç”¨éªŒè¯ç 2
            "TRUST99",      // å¤‡ç”¨éªŒè¯ç 3
            "RELATION456"   // å¤‡ç”¨éªŒè¯ç 4
        ];
        
        // æœ¬åœ°å­˜å‚¨éªŒè¯çŠ¶æ€ï¼ˆ24å°æ—¶æœ‰æ•ˆï¼‰
        const VERIFICATION_KEY = 'loyalty_test_verified';
        const EXPIRY_KEY = 'loyalty_test_expiry';
        const EXPIRY_HOURS = 24; // éªŒè¯æœ‰æ•ˆæœŸä¸º24å°æ—¶
        
        // DOMå…ƒç´ 
        const verificationOverlay = document.getElementById('verificationOverlay');
        const verificationCodeInput = document.getElementById('verificationCode');
        const verifyBtn = document.getElementById('verifyBtn');
        const verificationError = document.getElementById('verificationError');
        const mainContent = document.getElementById('mainContent');
        
        // æ£€æŸ¥URLå‚æ•°ä¸­æ˜¯å¦æœ‰éªŒè¯ç 
        function checkUrlForCode() {
            const urlParams = new URLSearchParams(window.location.search);
            const codeFromUrl = urlParams.get('code');
            
            if (codeFromUrl) {
                verificationCodeInput.value = codeFromUrl.toUpperCase();
                // è‡ªåŠ¨éªŒè¯ï¼ˆå»¶è¿Ÿ1ç§’ï¼Œè®©ç”¨æˆ·çœ‹åˆ°è¾“å…¥ï¼‰
                setTimeout(verifyCode, 1000);
            }
        }
        
        // æ£€æŸ¥æœ¬åœ°æ˜¯å¦æœ‰æœ‰æ•ˆçš„éªŒè¯çŠ¶æ€
        function checkLocalVerification() {
            const verified = localStorage.getItem(VERIFICATION_KEY);
            const expiry = localStorage.getItem(EXPIRY_KEY);
            
            if (verified && expiry) {
                const now = new Date().getTime();
                if (now < parseInt(expiry)) {
                    // éªŒè¯æœ‰æ•ˆï¼Œæ˜¾ç¤ºå†…å®¹
                    verificationOverlay.style.display = 'none';
                    mainContent.style.display = 'block';
                    return true;
                } else {
                    // éªŒè¯è¿‡æœŸï¼Œæ¸…é™¤çŠ¶æ€
                    localStorage.removeItem(VERIFICATION_KEY);
                    localStorage.removeItem(EXPIRY_KEY);
                }
            }
            return false;
        }
        
        // éªŒè¯è¾“å…¥çš„éªŒè¯ç 
        function verifyCode() {
            const inputCode = verificationCodeInput.value.trim().toUpperCase();
            
            if (!inputCode) {
                verificationError.textContent = "è¯·è¾“å…¥éªŒè¯ç ";
                verificationError.style.display = 'block';
                return;
            }
            
            // æ£€æŸ¥éªŒè¯ç æ˜¯å¦æœ‰æ•ˆ
            if (validCodes.includes(inputCode)) {
                // éªŒè¯æˆåŠŸ
                verificationError.style.display = 'none';
                
                // ä¿å­˜éªŒè¯çŠ¶æ€åˆ°æœ¬åœ°å­˜å‚¨ï¼ˆ24å°æ—¶æœ‰æ•ˆï¼‰
                const now = new Date().getTime();
                const expiryTime = now + (EXPIRY_HOURS * 60 * 60 * 1000);
                
                localStorage.setItem(VERIFICATION_KEY, 'true');
                localStorage.setItem(EXPIRY_KEY, expiryTime.toString());
                
                // æ˜¾ç¤ºä¸»è¦å†…å®¹ï¼Œéšè—éªŒè¯ç•Œé¢
                verificationOverlay.style.display = 'none';
                mainContent.style.display = 'block';
                
                // å¯é€‰ï¼šå°†éªŒè¯ç ä»URLä¸­ç§»é™¤ï¼ˆé¿å…åˆ†äº«å¸¦éªŒè¯ç çš„é“¾æ¥ï¼‰
                if (window.history.replaceState) {
                    const newUrl = window.location.pathname;
                    window.history.replaceState({}, document.title, newUrl);
                }
                
                // åˆå§‹åŒ–æµ‹è¯•åº”ç”¨
                initTestApp();
            } else {
                // éªŒè¯å¤±è´¥
                verificationError.textContent = "éªŒè¯ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥";
                verificationError.style.display = 'block';
                
                // æ·»åŠ æŠ–åŠ¨æ•ˆæœ
                verificationCodeInput.style.animation = 'none';
                setTimeout(() => {
                    verificationCodeInput.style.animation = 'shake 0.5s';
                }, 10);
            }
        }
        
        // åˆå§‹åŒ–éªŒè¯åŠŸèƒ½
        function initVerification() {
            // æ£€æŸ¥æœ¬åœ°éªŒè¯çŠ¶æ€
            if (checkLocalVerification()) {
                initTestApp();
                return; // å·²éªŒè¯ï¼Œç›´æ¥æ˜¾ç¤ºå†…å®¹
            }
            
            // æ£€æŸ¥URLå‚æ•°ä¸­çš„éªŒè¯ç 
            checkUrlForCode();
            
            // æ·»åŠ éªŒè¯æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            verifyBtn.addEventListener('click', verifyCode);
            
            // æ·»åŠ å›è½¦é”®æ”¯æŒ
            verificationCodeInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    verifyCode();
                }
            });
            
            // æ·»åŠ æŠ–åŠ¨åŠ¨ç”»
            const style = document.createElement('style');
            style.textContent = `
                @keyframes shake {
                    0%, 100% {transform: translateX(0);}
                    10%, 30%, 50%, 70%, 90% {transform: translateX(-5px);}
                    20%, 40%, 60%, 80% {transform: translateX(5px);}
                }
            `;
            document.head.appendChild(style);
            
            // è‡ªåŠ¨èšç„¦åˆ°è¾“å…¥æ¡†
            verificationCodeInput.focus();
        }
        
        // ============== æµ‹è¯„ç³»ç»Ÿ ==============
        // å¿ è¯šåº¦ç»´åº¦æ•°æ®
        const loyaltyTraits = [
            { id: 1, name: "æƒ…æ„Ÿä¾æ‹æ¨¡å¼", icon: "fas fa-heart", desc: "è¯„ä¼°å…¶æƒ…æ„Ÿä¾é™„ç±»å‹ï¼Œè¿™æ˜¯å½±å“å¿ è¯šåº¦çš„æ ¸å¿ƒå¿ƒç†å› ç´ ã€‚", color: "#93338f" },
            { id: 2, name: "æ‰¿è¯ºè®¤çŸ¥ä¸æ€åº¦", icon: "fas fa-handshake", desc: "è¯„ä¼°å…¶å¯¹é•¿æœŸå…³ç³»çš„æ€åº¦å’Œå¯¹æ‰¿è¯ºçš„è®¤çŸ¥ã€‚", color: "#c94b99" },
            { id: 3, name: "è¾¹ç•Œæ„Ÿä¸è‡ªå¾‹æ€§", icon: "fas fa-user-shield", desc: "è¯„ä¼°å…¶åœ¨å¼‚æ€§äº¤å¾€ä¸­çš„è¾¹ç•Œæ„è¯†å’Œè‡ªæˆ‘çº¦æŸèƒ½åŠ›ã€‚", color: "#e63946" },
            { id: 4, name: "æ²Ÿé€šé€æ˜åº¦", icon: "fas fa-comments", desc: "è¯„ä¼°å…¶åœ¨å…³ç³»ä¸­çš„å¼€æ”¾ç¨‹åº¦å’Œæ²Ÿé€šä¹ æƒ¯ã€‚", color: "#3498db" },
            { id: 5, name: "æƒ…æ„Ÿå†å²æ¨¡å¼", icon: "fas fa-history", desc: "è¯„ä¼°å…¶è¿‡å¾€å…³ç³»çš„æ¨¡å¼å’Œç¨³å®šæ€§ã€‚", color: "#f39c12" },
            { id: 6, name: "ç¤¾äº¤è¡Œä¸ºä¹ æƒ¯", icon: "fas fa-users", desc: "è¯„ä¼°å…¶åœ¨ç¤¾äº¤åœºåˆçš„è¡Œä¸ºæ¨¡å¼å’Œå¼‚æ€§äº’åŠ¨æ–¹å¼ã€‚", color: "#9b59b6" },
            { id: 7, name: "ä»·å€¼è§‚ä¸€è‡´æ€§", icon: "fas fa-balance-scale", desc: "è¯„ä¼°å…¶åœ¨å¿ è¯šã€è´£ä»»ã€é“å¾·ç­‰æ–¹é¢çš„ä»·å€¼è§‚ã€‚", color: "#27ae60" },
            { id: 8, name: "æ•°å­—è¡Œä¸ºç‰¹å¾", icon: "fas fa-mobile-alt", desc: "è¯„ä¼°å…¶åœ¨æ•°å­—æ—¶ä»£çš„è¡Œä¸ºç‰¹å¾ï¼ˆç¤¾äº¤åª’ä½“ã€é€šè®¯ä¹ æƒ¯ç­‰ï¼‰ã€‚", color: "#34495e" }
        ];

        // æµ‹è¯•é—®é¢˜ - æ¯ä¸ªç»´åº¦5ä¸ªé—®é¢˜ï¼Œå…±40ä¸ªé—®é¢˜
        const questions = [
            // æƒ…æ„Ÿä¾æ‹æ¨¡å¼ (ç‰¹è´¨1)
            { id: 1, text: "å¯¹æ–¹åœ¨å…³ç³»ä¸­è¡¨ç°å‡ºå¼ºçƒˆçš„åˆ†ç¦»ç„¦è™‘ï¼Œä¸€æ—¦åˆ†å¼€å°±é¢‘ç¹è”ç³»ç¡®è®¤å…³ç³»", traitId: 1 },
            { id: 2, text: "å¯¹æ–¹å¾ˆéš¾å®Œå…¨ä¿¡ä»»ä»–äººï¼Œæ€»æ˜¯æ‹…å¿ƒè¢«æŠ›å¼ƒæˆ–èƒŒå›", traitId: 1 },
            { id: 3, text: "å¯¹æ–¹åœ¨äº²å¯†å…³ç³»ä¸­ä¿æŒä¸€å®šè·ç¦»ï¼Œä¸å–œæ¬¢è¿‡åº¦äº²å¯†", traitId: 1, reverse: true },
            { id: 4, text: "å¯¹æ–¹èƒ½å¤Ÿå¹³è¡¡äº²å¯†éœ€æ±‚å’Œç‹¬ç«‹ç©ºé—´ï¼Œä¸è¿‡åº¦ä¾èµ–", traitId: 1 },
            { id: 5, text: "å¯¹æ–¹åœ¨å‹åŠ›ä¸‹ä¼šä¸»åŠ¨å¯»æ±‚äº²å¯†æ”¯æŒè€Œä¸æ˜¯é€ƒé¿", traitId: 1 },
            
            // æ‰¿è¯ºè®¤çŸ¥ä¸æ€åº¦ (ç‰¹è´¨2)
            { id: 6, text: "å¯¹æ–¹æ˜ç¡®è¡¨è¾¾è¿‡æƒ³è¦é•¿æœŸç¨³å®šå…³ç³»çš„æ„¿æœ›", traitId: 2 },
            { id: 7, text: "å¯¹æ–¹ä¸»åŠ¨è§„åˆ’è¿‡ä¸¤äººå…±åŒçš„æœªæ¥ï¼ˆå¦‚å±…ä½ã€æ—…è¡Œã€å®¶åº­è®¡åˆ’ï¼‰", traitId: 2 },
            { id: 8, text: "å¯¹æ–¹åœ¨æœ‹å‹å’Œå®¶äººé¢å‰å¤§æ–¹æ‰¿è®¤ä½ ä»¬çš„å…³ç³»", traitId: 2 },
            { id: 9, text: "å¯¹æ–¹è®¤ä¸ºæ‰¿è¯ºæ˜¯å…³ç³»çš„å¿…è¦åŸºç¡€è€Œä¸æ˜¯æŸç¼š", traitId: 2 },
            { id: 10, text: "å¯¹æ–¹æ„¿æ„ä¸ºå…³ç³»æŠ•å…¥æ—¶é—´å’Œç²¾åŠ›è§£å†³é—®é¢˜", traitId: 2 },
            
            // è¾¹ç•Œæ„Ÿä¸è‡ªå¾‹æ€§ (ç‰¹è´¨3)
            { id: 11, text: "å¯¹æ–¹ä¸å¼‚æ€§ä¿æŒé€‚å½“è·ç¦»ï¼Œä¸å•ç‹¬è¿›è¡Œæš§æ˜§æ´»åŠ¨", traitId: 3 },
            { id: 12, text: "å¯¹æ–¹ä¸»åŠ¨é¿å…å¯èƒ½å¼•å‘è¯¯è§£çš„ç¤¾äº¤åœºåˆ", traitId: 3 },
            { id: 13, text: "å¯¹æ–¹åœ¨èšä¼šä¸­ä¼šä¸»åŠ¨ä»‹ç»ä½ ï¼Œä¸éšç’å…³ç³»çŠ¶æ€", traitId: 3 },
            { id: 14, text: "å¯¹æ–¹èƒ½å¤Ÿæ‹’ç»ä¸é€‚å½“çš„å¼‚æ€§é‚€çº¦æˆ–æš§æ˜§æš—ç¤º", traitId: 3 },
            { id: 15, text: "å¯¹æ–¹åœ¨ç¤¾äº¤ä¸­æ³¨æ„è¨€è¡Œï¼Œé¿å…å‘é€é”™è¯¯ä¿¡å·", traitId: 3 },
            
            // æ²Ÿé€šé€æ˜åº¦ (ç‰¹è´¨4)
            { id: 16, text: "å¯¹æ–¹ä¸»åŠ¨åˆ†äº«æ—¥å¸¸è¡Œç¨‹å’Œç¤¾äº¤æ´»åŠ¨", traitId: 4 },
            { id: 17, text: "å¯¹æ–¹æ„¿æ„å…¬å¼€æ‰‹æœºå’Œç¤¾äº¤åª’ä½“å†…å®¹ï¼ˆä¸è®¾è¿‡å¤šéšç§å±éšœï¼‰", traitId: 4 },
            { id: 18, text: "å¯¹æ–¹åœ¨é‡åˆ°é—®é¢˜æ—¶ä¼šä¸»åŠ¨æ²Ÿé€šè€Œä¸æ˜¯éšç’", traitId: 4 },
            { id: 19, text: "å¯¹æ–¹è§£é‡Šä¸å¼‚æ€§äº’åŠ¨æ—¶å¦è¯šè€Œä¸å›é¿ç»†èŠ‚", traitId: 4 },
            { id: 20, text: "å¯¹æ–¹ä¸»åŠ¨åˆ†äº«å†…å¿ƒæƒ³æ³•å’Œæƒ…æ„Ÿéœ€æ±‚", traitId: 4 },
            
            // æƒ…æ„Ÿå†å²æ¨¡å¼ (ç‰¹è´¨5)
            { id: 21, text: "å¯¹æ–¹è¿‡å¾€çš„æ„Ÿæƒ…å…³ç³»æ™®éæŒç»­æ—¶é—´è¾ƒé•¿ï¼ˆ1å¹´ä»¥ä¸Šï¼‰", traitId: 5 },
            { id: 22, text: "å¯¹æ–¹æ²¡æœ‰å¤šæ¬¡å‡ºè½¨æˆ–èƒŒå›çš„å†å²è®°å½•", traitId: 5 },
            { id: 23, text: "å¯¹æ–¹ä¸å‰ä»»ä¿æŒé€‚å½“è·ç¦»ï¼Œä¸é¢‘ç¹è”ç³»", traitId: 5 },
            { id: 24, text: "å¯¹æ–¹åœ¨æè¿°è¿‡å¾€å…³ç³»æ—¶è¡¨ç°å‡ºè´£ä»»æ„Ÿå’Œåæ€", traitId: 5 },
            { id: 25, text: "å¯¹æ–¹æ²¡æœ‰é¢‘ç¹æ›´æ¢ä¼´ä¾£çš„å†å²æ¨¡å¼", traitId: 5 },
            
            // ç¤¾äº¤è¡Œä¸ºä¹ æƒ¯ (ç‰¹è´¨6)
            { id: 26, text: "å¯¹æ–¹åœ¨ç¤¾äº¤åœºåˆè¡Œä¸ºå¾—ä½“ï¼Œä¸è¿‡åº¦å¯»æ±‚å¼‚æ€§å…³æ³¨", traitId: 6 },
            { id: 27, text: "å¯¹æ–¹å‚åŠ ç¤¾äº¤æ´»åŠ¨æ—¶é€šå¸¸ä¼šé‚€è¯·ä½ ä¸€åŒå‰å¾€", traitId: 6 },
            { id: 28, text: "å¯¹æ–¹åœ¨å¼‚æ€§é¢å‰æ˜ç¡®è¡¨ç¤ºè‡ªå·±å¤„äºç¨³å®šå…³ç³»ä¸­", traitId: 6 },
            { id: 29, text: "å¯¹æ–¹ä¸è¿‡åº¦ä½¿ç”¨ç¤¾äº¤è½¯ä»¶å¯»æ‰¾æ–°æœ‹å‹", traitId: 6 },
            { id: 30, text: "å¯¹æ–¹çš„ç¤¾äº¤åœˆä¸­å¤šä¸ºç¨³å®šæ‹çˆ±æˆ–å·²å©šçš„æœ‹å‹", traitId: 6 },
            
            // ä»·å€¼è§‚ä¸€è‡´æ€§ (ç‰¹è´¨7)
            { id: 31, text: "å¯¹æ–¹è®¤ä¸ºå¿ è¯šæ˜¯å…³ç³»ä¸­æœ€é‡è¦çš„å“è´¨ä¹‹ä¸€", traitId: 7 },
            { id: 32, text: "å¯¹æ–¹é‡è§†è´£ä»»å’Œæ‰¿è¯ºï¼Œè®¤ä¸ºè¿™æ˜¯æˆç†Ÿçš„è¡¨ç°", traitId: 7 },
            { id: 33, text: "å¯¹æ–¹åœ¨é“å¾·å±‚é¢æ’æ–¥æ¬ºéª—å’ŒèƒŒå›è¡Œä¸º", traitId: 7 },
            { id: 34, text: "å¯¹æ–¹è®¤ä¸ºå…³ç³»çš„ç¨³å®šæ€§æ¯”æ–°é²œæ„Ÿæ›´é‡è¦", traitId: 7 },
            { id: 35, text: "å¯¹æ–¹å°Šé‡ä¼´ä¾£çš„æ„Ÿå—ï¼Œä¸ä¼šæ•…æ„åšå‡ºä¼¤å®³è¡Œä¸º", traitId: 7 },
            
            // æ•°å­—è¡Œä¸ºç‰¹å¾ (ç‰¹è´¨8)
            { id: 36, text: "å¯¹æ–¹åœ¨ç¤¾äº¤åª’ä½“ä¸Šå…¬å¼€ä½ ä»¬çš„åˆç…§æˆ–å…³ç³»çŠ¶æ€", traitId: 8 },
            { id: 37, text: "å¯¹æ–¹ä¸é¢‘ç¹ä½¿ç”¨åŒ¿åç¤¾äº¤æˆ–çº¦ä¼šè½¯ä»¶", traitId: 8 },
            { id: 38, text: "å¯¹æ–¹åœ¨é€šè®¯ä¸­ä¸è¿‡åº¦ä¿æŠ¤éšç§ï¼Œæ„¿æ„åˆ†äº«èŠå¤©å†…å®¹", traitId: 8 },
            { id: 39, text: "å¯¹æ–¹ä¸ç»å¸¸æ·±å¤œä¸å¼‚æ€§å•ç‹¬èŠå¤©", traitId: 8 },
            { id: 40, text: "å¯¹æ–¹çš„æ•°å­—ç¤¾äº¤è¡Œä¸ºä¸ç°å®ç”Ÿæ´»ä¸­è¡¨ç°ä¸€è‡´", traitId: 8 }
        ];

        // æµ‹è¯•çŠ¶æ€
        let currentQuestion = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let traitScores = new Array(loyaltyTraits.length).fill(0);
        let traitPercentages = new Array(loyaltyTraits.length).fill(0);

        // åˆå§‹åŒ–æµ‹è¯•åº”ç”¨
        function initTestApp() {
            // DOMå…ƒç´ 
            const startTestBtn = document.getElementById('startTestBtn');
            const finalTestBtn = document.getElementById('finalTestBtn');
            const testSection = document.getElementById('testSection');
            const resultSection = document.getElementById('resultSection');
            const questionTitle = document.getElementById('questionTitle');
            const optionsContainer = document.getElementById('optionsContainer');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const progressBar = document.getElementById('progressBar');
            const progressPercent = document.getElementById('progressPercent');
            const resultGrid = document.getElementById('resultGrid');
            const resultDetails = document.getElementById('resultDetails');
            const restartBtn = document.getElementById('restartBtn');
            const scoreCard = document.getElementById('scoreCard');
            const previewStartBtn = document.getElementById('previewStartBtn');

            // å¼€å§‹æµ‹è¯•æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            startTestBtn.addEventListener('click', function() {
                startTest();
            });

            // æœ€ç»ˆæµ‹è¯•æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            finalTestBtn.addEventListener('click', function() {
                startTest();
            });

            // æµ‹è¯•é¢„è§ˆéƒ¨åˆ†çš„å¼€å§‹æµ‹è¯„æŒ‰é’®
            previewStartBtn.addEventListener('click', function() {
                startTest();
            });

            // å¼€å§‹æµ‹è¯•
            function startTest() {
                testSection.style.display = 'block';
                loadQuestion(0);
                testSection.scrollIntoView({ behavior: 'smooth' });
            }

            // é‡æ–°æµ‹è¯•
            restartBtn.addEventListener('click', function() {
                // é‡ç½®æµ‹è¯•çŠ¶æ€
                currentQuestion = 0;
                userAnswers = new Array(questions.length).fill(null);
                traitScores = new Array(loyaltyTraits.length).fill(0);
                traitPercentages = new Array(loyaltyTraits.length).fill(0);
                
                // æ˜¾ç¤ºæµ‹è¯•éƒ¨åˆ†ï¼Œéšè—ç»“æœéƒ¨åˆ†
                testSection.style.display = 'block';
                resultSection.style.display = 'none';
                
                // åŠ è½½ç¬¬ä¸€ä¸ªé—®é¢˜
                loadQuestion(0);
            });

            // åŠ è½½é—®é¢˜
            function loadQuestion(index) {
                currentQuestion = index;
                const question = questions[index];
                
                // æ›´æ–°é—®é¢˜æ ‡é¢˜
                questionTitle.textContent = `é—®é¢˜ ${index + 1}/${questions.length}: ${question.text}`;
                
                // æ›´æ–°è¿›åº¦æ¡
                const progress = ((index + 1) / questions.length) * 100;
                progressBar.style.width = `${progress}%`;
                progressPercent.textContent = Math.round(progress);
                
                // ç”Ÿæˆé€‰é¡¹
                optionsContainer.innerHTML = '';
                const options = [
                    { text: "å®Œå…¨ä¸ç¬¦åˆ", value: 1 },
                    { text: "ä¸å¤ªç¬¦åˆ", value: 2 },
                    { text: "ä¸€èˆ¬/ä¸ç¡®å®š", value: 3 },
                    { text: "æ¯”è¾ƒç¬¦åˆ", value: 4 },
                    { text: "å®Œå…¨ç¬¦åˆ", value: 5 }
                ];
                
                options.forEach(option => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option';
                    if (userAnswers[index] === option.value) {
                        optionElement.classList.add('selected');
                    }
                    optionElement.textContent = option.text;
                    optionElement.dataset.value = option.value;
                    
                    optionElement.addEventListener('click', function() {
                        // ç§»é™¤å…¶ä»–é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
                        document.querySelectorAll('.option').forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        
                        // æ ‡è®°å½“å‰é€‰é¡¹ä¸ºé€‰ä¸­
                        this.classList.add('selected');
                        
                        // ä¿å­˜ç­”æ¡ˆ
                        userAnswers[index] = parseInt(this.dataset.value);
                        
                        // å¯ç”¨ä¸‹ä¸€é¢˜æŒ‰é’®
                        nextBtn.disabled = false;
                    });
                    
                    optionsContainer.appendChild(optionElement);
                });
                
                // æ›´æ–°å¯¼èˆªæŒ‰é’®çŠ¶æ€
                prevBtn.disabled = index === 0;
                nextBtn.textContent = index === questions.length - 1 ? "æŸ¥çœ‹ç»“æœ" : "ä¸‹ä¸€é¢˜";
            }

            // ä¸Šä¸€é¢˜
            prevBtn.addEventListener('click', function() {
                if (currentQuestion > 0) {
                    loadQuestion(currentQuestion - 1);
                }
            });

            // ä¸‹ä¸€é¢˜/æŸ¥çœ‹ç»“æœ
            nextBtn.addEventListener('click', function() {
                if (currentQuestion < questions.length - 1) {
                    loadQuestion(currentQuestion + 1);
                } else {
                    // è®¡ç®—æµ‹è¯•ç»“æœ
                    calculateResults();
                    
                    // æ˜¾ç¤ºç»“æœéƒ¨åˆ†ï¼Œéšè—æµ‹è¯•éƒ¨åˆ†
                    testSection.style.display = 'none';
                    resultSection.style.display = 'block';
                    
                    // æ»šåŠ¨åˆ°ç»“æœéƒ¨åˆ†
                    resultSection.scrollIntoView({ behavior: 'smooth' });
                }
            });

            // è®¡ç®—æµ‹è¯•ç»“æœ
            function calculateResults() {
                // é‡ç½®åˆ†æ•°
                traitScores = new Array(loyaltyTraits.length).fill(0);
                
                // è®¡ç®—æ¯ä¸ªç»´åº¦çš„æ€»åˆ†
                questions.forEach((question, index) => {
                    const answer = userAnswers[index];
                    if (answer !== null) {
                        const traitIndex = question.traitId - 1;
                        // å¦‚æœæ˜¯åå‘è®¡åˆ†é¢˜ï¼Œéœ€è¦è½¬æ¢åˆ†æ•°
                        let score = question.reverse ? 6 - answer : answer;
                        traitScores[traitIndex] += score;
                    }
                });
                
                // è®¡ç®—æ¯ä¸ªç»´åº¦çš„ç™¾åˆ†æ¯”ï¼ˆæ¯ä¸ªç»´åº¦5ä¸ªé—®é¢˜ï¼Œæœ€é«˜åˆ†5*5=25åˆ†ï¼‰
                loyaltyTraits.forEach((trait, index) => {
                    const maxPossibleScore = questions.filter(q => q.traitId === trait.id).length * 5;
                    traitPercentages[index] = Math.round((traitScores[index] / maxPossibleScore) * 100);
                });
                
                // æ˜¾ç¤ºç»“æœ
                displayResults();
            }

            // æ˜¾ç¤ºæµ‹è¯•ç»“æœ
            function displayResults() {
                // è®¡ç®—æ€»åˆ†
                const totalScore = traitScores.reduce((sum, score) => sum + score, 0);
                const maxTotalScore = questions.length * 5;
                const totalPercentage = Math.round((totalScore / maxTotalScore) * 100);
                
                // æ˜¾ç¤ºæ€»åˆ†å’Œè¯„çº§
                let rating, ratingColor, description;
                
                if (totalPercentage >= 85) {
                    rating = "é«˜åº¦å¿ è¯šå€¾å‘";
                    ratingColor = "#27ae60";
                    description = "åŸºäºå¤§æ•°æ®åˆ†æï¼Œå¯¹æ–¹è¡¨ç°å‡ºé«˜åº¦çš„æƒ…æ„Ÿå¿ è¯šç‰¹è´¨ã€‚åœ¨å¤šä¸ªå…³é”®ç»´åº¦ä¸Šè¡¨ç°å‡ºè‰²ï¼Œå…·æœ‰ç¨³å®šçš„æƒ…æ„Ÿä¾æ‹æ¨¡å¼å’Œå¼ºçƒˆçš„è´£ä»»æ„Ÿã€‚å»ºè®®ç»§ç»­ä¿æŒè‰¯å¥½æ²Ÿé€šï¼Œå»ºç«‹æ›´æ·±çš„æƒ…æ„Ÿè¿æ¥ã€‚";
                } else if (totalPercentage >= 70) {
                    rating = "è‰¯å¥½å¿ è¯šå€¾å‘";
                    ratingColor = "#3498db";
                    description = "å¯¹æ–¹åœ¨å¤§å¤šæ•°ç»´åº¦ä¸Šè¡¨ç°è‰¯å¥½ï¼Œå…·æœ‰ç¨³å®šçš„æƒ…æ„ŸåŸºç¡€ã€‚ä½†åœ¨æŸäº›æ–¹é¢å¯èƒ½å­˜åœ¨æå‡ç©ºé—´ã€‚å»ºè®®å…³æ³¨è–„å¼±ç¯èŠ‚ï¼Œé€šè¿‡å¢å¼ºä¿¡ä»»å’Œæ²Ÿé€šè¿›ä¸€æ­¥å·©å›ºå…³ç³»ã€‚";
                } else if (totalPercentage >= 55) {
                    rating = "ä¸­ç­‰å¿ è¯šå€¾å‘";
                    ratingColor = "#f39c12";
                    description = "å¯¹æ–¹çš„æƒ…æ„Ÿå¿ è¯šåº¦å¤„äºä¸­ç­‰æ°´å¹³ã€‚å¯èƒ½å­˜åœ¨ä¸€äº›éœ€è¦æ³¨æ„çš„é£é™©å› ç´ ã€‚å»ºè®®é‡ç‚¹å…³æ³¨ä½åˆ†ç»´åº¦ï¼Œé€šè¿‡è§‚å¯Ÿå’Œæ²Ÿé€šäº†è§£æ½œåœ¨é—®é¢˜ï¼Œé€‚æ—¶å»ºç«‹æ›´æ˜ç¡®çš„è¾¹ç•Œå’ŒæœŸæœ›ã€‚";
                } else if (totalPercentage >= 40) {
                    rating = "å¿ è¯šåº¦æœ‰å¾…è§‚å¯Ÿ";
                    ratingColor = "#e67e22";
                    description = "å¯¹æ–¹åœ¨æŸäº›å…³é”®ç»´åº¦ä¸Šå¾—åˆ†è¾ƒä½ï¼Œå¯èƒ½å­˜åœ¨æƒ…æ„Ÿé£é™©ã€‚å»ºè®®ä¿æŒé€‚åº¦è­¦æƒ•ï¼Œé‡ç‚¹å…³æ³¨å¯¹æ–¹çš„å®é™…è¡Œä¸ºè¡¨ç°ï¼Œå»ºç«‹æ›´æ¸…æ™°çš„æ²Ÿé€šå’Œè¾¹ç•Œã€‚ä¸å»ºè®®è¿‡æ—©æŠ•å…¥è¿‡å¤šæƒ…æ„Ÿèµ„æºã€‚";
                } else {
                    rating = "å­˜åœ¨è¾ƒé«˜æƒ…æ„Ÿé£é™©";
                    ratingColor = "#e74c3c";
                    description = "åŸºäºæµ‹è¯„ç»“æœï¼Œå¯¹æ–¹åœ¨å¤šä¸ªå¿ è¯šåº¦ç»´åº¦ä¸Šå¾—åˆ†è¾ƒä½ï¼Œå¯èƒ½å­˜åœ¨è¾ƒé«˜çš„æƒ…æ„Ÿé£é™©ã€‚å»ºè®®è°¨æ…å¯¹å¾…è¿™æ®µå…³ç³»ï¼Œä¼˜å…ˆä¿æŠ¤è‡ªå·±çš„æƒ…æ„Ÿå®‰å…¨ï¼Œè§‚å¯Ÿå¯¹æ–¹æ˜¯å¦æœ‰æ”¹å˜çš„æ„æ„¿å’Œå®é™…è¡ŒåŠ¨ã€‚";
                }
                
                scoreCard.innerHTML = `
                    <div class="score-number" style="color: ${ratingColor}">${totalPercentage}%</div>
                    <div class="score-label" style="color: ${ratingColor}">${rating}</div>
                    <div class="score-description">${description}</div>
                `;
                
                resultGrid.innerHTML = '';
                
                // åˆ›å»ºç»´åº¦åˆ†æ•°æ•°ç»„å¹¶æ’åº
                const traitResults = loyaltyTraits.map((trait, index) => {
                    return {
                        ...trait,
                        score: traitScores[index],
                        percentage: traitPercentages[index],
                        maxScore: questions.filter(q => q.traitId === trait.id).length * 5
                    };
                }).sort((a, b) => b.percentage - a.percentage);
                
                // æ˜¾ç¤ºå‰ä¸‰åç»´åº¦
                traitResults.slice(0, 3).forEach((trait, index) => {
                    const resultCard = document.createElement('div');
                    resultCard.className = 'result-card';
                    if (index === 0) {
                        resultCard.classList.add('primary');
                    }
                    
                    resultCard.innerHTML = `
                        <div class="result-name"><i class="${trait.icon}"></i> ${trait.name}</div>
                        <div class="result-score">${trait.percentage}%</div>
                        <div class="result-desc">${trait.desc}</div>
                    `;
                    
                    resultGrid.appendChild(resultCard);
                });
                
                // ç»˜åˆ¶é›·è¾¾å›¾
                drawRadarChart(traitResults);
                
                // æ˜¾ç¤ºè¯¦ç»†ç»“æœ
                displayDetailedResults(traitResults, totalPercentage);
            }

            // ç»˜åˆ¶é›·è¾¾å›¾
            function drawRadarChart(traitResults) {
                const ctx = document.getElementById('loyaltyRadarChart').getContext('2d');
                
                // å‡†å¤‡é›·è¾¾å›¾æ•°æ®
                const labels = traitResults.map(trait => trait.name);
                const data = traitResults.map(trait => trait.percentage);
                
                // åˆ›å»ºé›·è¾¾å›¾
                new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'ç»´åº¦å¾—åˆ†',
                            data: data,
                            backgroundColor: 'rgba(147, 51, 143, 0.2)',
                            borderColor: 'rgba(147, 51, 143, 1)',
                            pointBackgroundColor: 'rgba(147, 51, 143, 1)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgba(147, 51, 143, 1)',
                            borderWidth: 2,
                            pointRadius: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                angleLines: {
                                    display: true,
                                    color: 'rgba(0, 0, 0, 0.1)'
                                },
                                suggestedMin: 0,
                                suggestedMax: 100,
                                ticks: {
                                    stepSize: 20,
                                    backdropColor: 'transparent'
                                },
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.1)'
                                },
                                pointLabels: {
                                    font: {
                                        size: 12,
                                        family: "'Segoe UI', 'Microsoft YaHei', sans-serif"
                                    },
                                    color: '#333'
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.label}: ${context.raw}%`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // æ˜¾ç¤ºè¯¦ç»†ç»“æœ
            function displayDetailedResults(traitResults, totalPercentage) {
                resultDetails.innerHTML = '';
                
                // ä¼˜åŠ¿åˆ†æ
                const strengthsCard = document.createElement('div');
                strengthsCard.className = 'result-detail-card';
                
                // è·å–ä¼˜åŠ¿ç»´åº¦ï¼ˆå¾—åˆ†å‰3ï¼‰
                const strengths = traitResults.slice(0, 3);
                
                strengthsCard.innerHTML = `
                    <h3 class="detail-title"><i class="fas fa-trophy"></i> ä¼˜åŠ¿ç»´åº¦åˆ†æ</h3>
                    <div class="detail-content">
                        <p>åŸºäºæµ‹è¯„ç»“æœï¼Œå¯¹æ–¹åœ¨ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢è¡¨ç°å‡ºè¾ƒå¥½çš„å¿ è¯šç‰¹è´¨ï¼š</p>
                        <div class="improvement-list">
                            ${strengths.map((trait, index) => `
                                <div class="improvement-item">
                                    <div class="improvement-icon"><i class="${trait.icon}"></i></div>
                                    <div class="improvement-text">
                                        <div class="improvement-title">${index + 1}. ${trait.name} (${trait.percentage}%)</div>
                                        <div class="improvement-desc">${getStrengthDescription(trait.id)}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                resultDetails.appendChild(strengthsCard);
                
                // é£é™©åˆ†æ
                const improvementsCard = document.createElement('div');
                improvementsCard.className = 'result-detail-card';
                
                // è·å–éœ€è¦å…³æ³¨çš„ç»´åº¦ï¼ˆå¾—åˆ†å3ï¼‰
                const improvements = [...traitResults].sort((a, b) => a.percentage - b.percentage).slice(0, 3);
                
                improvementsCard.innerHTML = `
                    <h3 class="detail-title"><i class="fas fa-exclamation-triangle"></i> éœ€è¦å…³æ³¨çš„ç»´åº¦</h3>
                    <div class="detail-content">
                        <p>ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢å¯èƒ½å­˜åœ¨æ½œåœ¨é£é™©ï¼Œéœ€è¦ç‰¹åˆ«å…³æ³¨ï¼š</p>
                        <div class="improvement-list">
                            ${improvements.map((trait, index) => `
                                <div class="improvement-item">
                                    <div class="improvement-icon"><i class="${trait.icon}"></i></div>
                                    <div class="improvement-text">
                                        <div class="improvement-title">${index + 1}. ${trait.name} (${trait.percentage}%)</div>
                                        <div class="improvement-desc">${getImprovementDescription(trait.id)}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                resultDetails.appendChild(improvementsCard);
                
                // è¡ŒåŠ¨è®¡åˆ’
                const actionPlanCard = document.createElement('div');
                actionPlanCard.className = 'result-detail-card';
                
                actionPlanCard.innerHTML = `
                    <h3 class="detail-title"><i class="fas fa-clipboard-list"></i> å…³ç³»ç»´æŠ¤ä¸è§‚å¯ŸæŒ‡å—</h3>
                    <div class="detail-content">
                        <p>åŸºäºæµ‹è¯„ç»“æœï¼Œä¸ºæ‚¨æä¾›ä»¥ä¸‹å…³ç³»ç»´æŠ¤ä¸è§‚å¯Ÿå»ºè®®ï¼š</p>
                        <div class="action-plan">
                            <div class="action-title">å…·ä½“è¡ŒåŠ¨å»ºè®®</div>
                            <div class="action-steps">
                                ${getActionSteps(improvements, totalPercentage).map((step, index) => `
                                    <div class="action-step">
                                        <div class="step-heading">
                                            <div class="step-number">${index + 1}</div>
                                            <div class="step-title">${step.title}</div>
                                        </div>
                                        <p>${step.description}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
                resultDetails.appendChild(actionPlanCard);
            }

            // è·å–ä¼˜åŠ¿æè¿°
            function getStrengthDescription(traitId) {
                const descriptions = {
                    1: "å¯¹æ–¹è¡¨ç°å‡ºè¾ƒä¸ºå¥åº·çš„æƒ…æ„Ÿä¾æ‹æ¨¡å¼ï¼Œèƒ½å¤Ÿå¹³è¡¡äº²å¯†ä¸ç‹¬ç«‹ï¼Œè¿™å¯¹å…³ç³»çš„ç¨³å®šæ€§éå¸¸æœ‰åˆ©ã€‚",
                    2: "å¯¹æ–¹å¯¹æ‰¿è¯ºæœ‰è¾ƒä¸ºç§¯æçš„è®¤çŸ¥ï¼Œæ„¿æ„ä¸ºé•¿æœŸå…³ç³»æŠ•å…¥ï¼Œè¿™æ˜¯å¿ è¯šåº¦çš„é‡è¦ä¿éšœã€‚",
                    3: "å¯¹æ–¹åœ¨å¼‚æ€§äº¤å¾€ä¸­è¡¨ç°å‡ºè‰¯å¥½çš„è¾¹ç•Œæ„è¯†ï¼Œèƒ½å¤Ÿè‡ªæˆ‘çº¦æŸï¼Œé™ä½äº†æƒ…æ„Ÿé£é™©ã€‚",
                    4: "å¯¹æ–¹åœ¨å…³ç³»ä¸­ä¿æŒè¾ƒå¥½çš„æ²Ÿé€šé€æ˜åº¦ï¼Œå‡å°‘äº†å› éšç’è€Œäº§ç”Ÿçš„ä¿¡ä»»é—®é¢˜ã€‚",
                    5: "å¯¹æ–¹çš„æƒ…æ„Ÿå†å²ç›¸å¯¹ç¨³å®šï¼Œæ²¡æœ‰é¢‘ç¹æ›´æ¢ä¼´ä¾£æˆ–èƒŒå›çš„å†å²æ¨¡å¼ã€‚",
                    6: "å¯¹æ–¹çš„ç¤¾äº¤è¡Œä¸ºä¹ æƒ¯è¾ƒä¸ºå¥åº·ï¼Œä¸è¿‡åº¦å¯»æ±‚å¼‚æ€§å…³æ³¨ï¼Œè¡Œä¸ºå¾—ä½“ã€‚",
                    7: "å¯¹æ–¹çš„ä»·å€¼è§‚ä¸å¿ è¯šç†å¿µè¾ƒä¸ºä¸€è‡´ï¼Œé‡è§†è´£ä»»å’Œé“å¾·çº¦æŸã€‚",
                    8: "å¯¹æ–¹çš„æ•°å­—è¡Œä¸ºè¾ƒä¸ºè§„èŒƒï¼Œä¸è¿‡åº¦ä½¿ç”¨åŒ¿åç¤¾äº¤å·¥å…·ï¼Œå‡å°‘äº†æ•°å­—æ—¶ä»£çš„å¿ è¯šé£é™©ã€‚"
                };
                
                return descriptions[traitId] || "è¿™æ˜¯å¯¹æ–¹çš„ä¼˜åŠ¿é¢†åŸŸï¼Œè¡¨æ˜åœ¨æ­¤æ–¹é¢çš„å¿ è¯šç‰¹è´¨è¾ƒä¸ºçªå‡ºã€‚";
            }

            // è·å–æ”¹è¿›æè¿°
            function getImprovementDescription(traitId) {
                const descriptions = {
                    1: "å¯¹æ–¹å¯èƒ½å­˜åœ¨ä¸å®‰å…¨çš„ä¾æ‹æ¨¡å¼ï¼Œè¿™å¯èƒ½å¯¼è‡´å…³ç³»ä¸­çš„ç„¦è™‘æˆ–å›é¿è¡Œä¸ºï¼Œå¢åŠ æƒ…æ„Ÿé£é™©ã€‚",
                    2: "å¯¹æ–¹å¯¹æ‰¿è¯ºçš„æ€åº¦å¯èƒ½ä¸å¤Ÿæ˜ç¡®æˆ–ç§¯æï¼Œè¿™ä¼šå½±å“å…³ç³»çš„é•¿æœŸç¨³å®šæ€§ã€‚",
                    3: "å¯¹æ–¹åœ¨å¼‚æ€§è¾¹ç•Œæ–¹é¢å¯èƒ½å­˜åœ¨æ¨¡ç³Šåœ°å¸¦ï¼Œéœ€è¦è¿›ä¸€æ­¥è§‚å¯Ÿå…¶è¡Œä¸ºä¸€è‡´æ€§ã€‚",
                    4: "å¯¹æ–¹åœ¨æ²Ÿé€šé€æ˜åº¦æ–¹é¢å¯èƒ½å­˜åœ¨ä¸è¶³ï¼Œéšç’è¡Œä¸ºå¾€å¾€æ˜¯ä¿¡ä»»ç ´è£‚çš„å¼€å§‹ã€‚",
                    5: "å¯¹æ–¹çš„æƒ…æ„Ÿå†å²å¯èƒ½å­˜åœ¨ä¸ç¨³å®šå› ç´ ï¼Œè¿‡å¾€è¡Œä¸ºæ¨¡å¼æ˜¯é¢„æµ‹æœªæ¥çš„é‡è¦å‚è€ƒã€‚",
                    6: "å¯¹æ–¹çš„ç¤¾äº¤è¡Œä¸ºä¹ æƒ¯å¯èƒ½å­˜åœ¨é—®é¢˜ï¼Œè¿‡åº¦å¯»æ±‚å¼‚æ€§å…³æ³¨ä¼šå¢åŠ å¿ è¯šé£é™©ã€‚",
                    7: "å¯¹æ–¹çš„ä»·å€¼è§‚å¯èƒ½ä¸å¿ è¯šç†å¿µå­˜åœ¨ä¸ä¸€è‡´ï¼Œè¿™ä¼šå½±å“å…¶è¡Œä¸ºé€‰æ‹©ã€‚",
                    8: "å¯¹æ–¹çš„æ•°å­—è¡Œä¸ºå¯èƒ½å­˜åœ¨é£é™©ï¼Œè¿‡åº¦ä½¿ç”¨åŒ¿åç¤¾äº¤æˆ–ä¿æŠ¤éšç§å¯èƒ½éšè—é—®é¢˜ã€‚"
                };
                
                return descriptions[traitId] || "æ­¤ç»´åº¦å¾—åˆ†è¾ƒä½ï¼Œå¯èƒ½å­˜åœ¨æ½œåœ¨çš„æƒ…æ„Ÿé£é™©ï¼Œéœ€è¦ç‰¹åˆ«å…³æ³¨ã€‚";
            }

            // è·å–è¡ŒåŠ¨æ­¥éª¤
            function getActionSteps(improvements, totalPercentage) {
                const steps = [];
                
                // æ ¹æ®æ€»è¯„åˆ†æ·»åŠ ç›¸åº”å»ºè®®
                if (totalPercentage >= 70) {
                    steps.push({
                        title: "å·©å›ºå…³ç³»ä¼˜åŠ¿",
                        description: "å¼ºåŒ–å¯¹æ–¹çš„ç§¯æç‰¹è´¨ï¼Œé€šè¿‡æ­£é¢åé¦ˆé¼“åŠ±å…¶ä¿æŒè‰¯å¥½è¡Œä¸ºæ¨¡å¼ï¼Œå®šæœŸæ²Ÿé€šå…³ç³»æœŸæœ›å’Œç›®æ ‡ã€‚"
                    });
                } else if (totalPercentage >= 40) {
                    steps.push({
                        title: "å»ºç«‹æ˜ç¡®è¾¹ç•Œ",
                        description: "ä¸å¯¹æ–¹æ˜ç¡®è®¨è®ºå…³ç³»ä¸­çš„è¾¹ç•Œå’ŒæœŸæœ›ï¼Œç‰¹åˆ«æ˜¯åœ¨ç¤¾äº¤å’Œæ•°å­—è¡Œä¸ºæ–¹é¢ï¼Œå»ºç«‹åŒæ–¹éƒ½èƒ½æ¥å—çš„è§„åˆ™ã€‚"
                    });
                } else {
                    steps.push({
                        title: "ä¿æŠ¤æƒ…æ„Ÿå®‰å…¨",
                        description: "ä¼˜å…ˆä¿æŠ¤è‡ªå·±çš„æƒ…æ„Ÿå®‰å…¨ï¼Œä¸è¦è¿‡æ—©æŠ•å…¥è¿‡å¤šæƒ…æ„Ÿèµ„æºï¼Œè§‚å¯Ÿå¯¹æ–¹æ˜¯å¦æœ‰æ”¹å˜çš„æ„æ„¿å’Œå®é™…è¡ŒåŠ¨ã€‚"
                    });
                }
                
                // é’ˆå¯¹æ¯ä¸ªéœ€è¦å…³æ³¨çš„ç»´åº¦æ·»åŠ æ­¥éª¤
                improvements.forEach(trait => {
                    const step = getTraitSpecificAction(trait.id, totalPercentage);
                    if (step) steps.push(step);
                });
                
                // å¦‚æœæ­¥éª¤ä¸è¶³3ä¸ªï¼Œæ·»åŠ é€šç”¨æ­¥éª¤
                while (steps.length < 3) {
                    steps.push({
                        title: "å¢å¼ºè§‚å¯Ÿä¸æ²Ÿé€š",
                        description: "ä¿æŒé€‚åº¦è§‚å¯Ÿï¼Œæ³¨æ„å¯¹æ–¹è¡Œä¸ºä¸è¨€è¾çš„ä¸€è‡´æ€§ï¼Œå»ºç«‹å¼€æ”¾ä½†ä¸ä¾µå…¥çš„æ²Ÿé€šæ–¹å¼ã€‚"
                    });
                }
                
                return steps.slice(0, 3);
            }

            // è·å–ç‰¹å®šç»´åº¦çš„è¡ŒåŠ¨æ­¥éª¤
            function getTraitSpecificAction(traitId, totalPercentage) {
                const actions = {
                    1: {
                        title: "å…³æ³¨ä¾æ‹è¡¨ç°",
                        description: "è§‚å¯Ÿå¯¹æ–¹åœ¨å‹åŠ›ä¸‹çš„æƒ…æ„Ÿååº”ï¼Œæ˜¯å¦è¿‡åº¦ç„¦è™‘æˆ–å®Œå…¨å›é¿ï¼Œè¿™åæ˜ å…¶ä¾æ‹æ¨¡å¼çš„å®‰å…¨æ€§ã€‚"
                    },
                    2: {
                        title: "æ˜ç¡®æ‰¿è¯ºæ€åº¦",
                        description: "é€šè¿‡æ—¥å¸¸å¯¹è¯äº†è§£å¯¹æ–¹å¯¹é•¿æœŸå…³ç³»çš„çœŸå®æƒ³æ³•ï¼Œè§‚å¯Ÿå…¶æ˜¯å¦æ„¿æ„ä¸ºå…³ç³»åšå‡ºå®é™…è§„åˆ’å’Œç‰ºç‰²ã€‚"
                    },
                    3: {
                        title: "è§‚å¯Ÿè¾¹ç•Œè¡Œä¸º",
                        description: "æ³¨æ„å¯¹æ–¹åœ¨å¼‚æ€§äº’åŠ¨ä¸­çš„å…·ä½“è¡Œä¸ºï¼Œæ˜¯å¦ä¸»åŠ¨ä¿æŒé€‚å½“è·ç¦»ï¼Œèƒ½å¦æ‹’ç»ä¸é€‚å½“çš„é‚€çº¦ã€‚"
                    },
                    4: {
                        title: "æå‡æ²Ÿé€šé€æ˜åº¦",
                        description: "é¼“åŠ±å¼€æ”¾æ²Ÿé€šï¼Œä½†ä¸è¿‡åº¦æ§åˆ¶ï¼Œè§‚å¯Ÿå¯¹æ–¹æ˜¯å¦æ„¿æ„ä¸»åŠ¨åˆ†äº«é‡è¦ä¿¡æ¯å’Œæ—¥å¸¸åŠ¨æ€ã€‚"
                    },
                    5: {
                        title: "äº†è§£æƒ…æ„Ÿå†å²",
                        description: "åœ¨ä¸ä¾µçŠ¯éšç§çš„å‰æä¸‹ï¼Œäº†è§£å¯¹æ–¹è¿‡å¾€å…³ç³»æ¨¡å¼ï¼Œç‰¹åˆ«æ˜¯åˆ†æ‰‹åŸå› å’Œå¿ è¯šè®°å½•ã€‚"
                    },
                    6: {
                        title: "è§‚å¯Ÿç¤¾äº¤ä¹ æƒ¯",
                        description: "æ³¨æ„å¯¹æ–¹åœ¨ç¤¾äº¤åœºåˆçš„è¡Œä¸ºæ¨¡å¼ï¼Œæ˜¯å¦è¿‡åº¦å¯»æ±‚å…³æ³¨ï¼Œæ˜¯å¦ä¸»åŠ¨ä»‹ç»ä½ çš„å­˜åœ¨ã€‚"
                    },
                    7: {
                        title: "è¯„ä¼°ä»·å€¼è§‚ä¸€è‡´æ€§",
                        description: "é€šè¿‡æ—¥å¸¸å¯¹è¯å’Œäº‹ä»¶ååº”ï¼Œäº†è§£å¯¹æ–¹åœ¨å¿ è¯šã€è´£ä»»ç­‰æ ¸å¿ƒä»·å€¼è§‚ä¸Šçš„çœŸå®æ€åº¦ã€‚"
                    },
                    8: {
                        title: "å…³æ³¨æ•°å­—è¡Œä¸º",
                        description: "æ³¨æ„å¯¹æ–¹çš„ç¤¾äº¤åª’ä½“ä½¿ç”¨ä¹ æƒ¯ï¼Œæ˜¯å¦å…¬å¼€å…³ç³»çŠ¶æ€ï¼Œæ˜¯å¦è¿‡åº¦ä½¿ç”¨åŒ¿åç¤¾äº¤å·¥å…·ã€‚"
                    }
                };
                
                return actions[traitId];
            }

            // ä¸ºç‰¹è´¨å¡ç‰‡æ·»åŠ æ‚¬åœåŠ¨ç”»
            document.querySelectorAll('.trait-card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-10px) scale(1.02)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–éªŒè¯ç³»ç»Ÿ
        document.addEventListener('DOMContentLoaded', initVerification);
    </script>
</body>
</html>